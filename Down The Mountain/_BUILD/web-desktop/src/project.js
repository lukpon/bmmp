require=function e(t,a,i){function r(o,n){if(!a[o]){if(!t[o]){var c="function"==typeof require&&require;if(!n&&c)return c(o,!0);if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var h=a[o]={exports:{}};t[o][0].call(h.exports,function(e){var a=t[o][1][e];return r(a?a:e)},h,h.exports,e,t,a,i)}return a[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({About:[function(e,t,a){"use strict";cc._RFpush(t,"f6589K63UFAxqy8Z6fnlwHC","About"),cc.Class({"extends":cc.Component,properties:{closeButton:{"default":null,type:cc.Node},labelCredits:{"default":null,type:cc.Label},creditsContainer:{"default":null,type:cc.Node},sound:{"default":null,type:cc.Node}},onLoad:function(){this.startCredits()},startCredits:function(){var e=this.creditsContainer.getPosition();this.creditsContainer.runAction(cc.sequence(cc.moveBy(20,cc.p(0,1777)),cc.moveTo(0,e))).repeatForever()}}),cc._RFpop()},{}],AnimationControl:[function(e,t,a){"use strict";cc._RFpush(t,"5965azxqD9P978+n78NRtyr","AnimationControl"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},spikeEventHandler:function(){var e=this.getComponent(cc.Animation).parent;e.spikeOut=!e.spikeOut,e.checkAction()}}),cc._RFpop()},{}],ButtonControl:[function(e,t,a){"use strict";cc._RFpush(t,"abec1bAY0BMAabKUcEvCGLv","ButtonControl"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},buttonControlCallback:function(){cc.director.loadScene("_game")},choosePlayerCallback:function(){cc.director.loadScene("_choose")},menuButtonControlCallback:function(){cc.director.loadScene("_start")}}),cc._RFpop()},{}],Choose:[function(e,t,a){"use strict";cc._RFpush(t,"eee708vxOlMDpZrxRguc57U","Choose"),cc.Class({"extends":cc.Component,properties:{characterContainer:{"default":null,type:cc.Node},pagesLabel:{"default":null,type:cc.Label},sound:{"default":null,type:cc.Node}},onLoad:function(){this.characterPages=this.characterContainer.getChildren().length,this.characterCurrentPage=1,this.pagesLabel.string=this.characterCurrentPage+"/"+this.characterPages,this.characterContainerPanel=this.characterContainer.getChildren();for(var e=0;e<this.characterPages;e++)this.characterContainerPanel[e].active=!1;this.characterContainerPanel[0].active=!0},playerChosen:function(){var e=cc.sys.localStorage,t="player";switch(this.characterCurrentPage){case 1:e.setItem(t,1);break;case 2:e.setItem(t,2);break;case 3:e.setItem(t,3);break;case 4:e.setItem(t,4)}},nextPlayer:function(){for(var e=0;e<this.characterPages;e++)this.characterContainerPanel[e].active=!1;this.characterCurrentPage<this.characterPages?(this.characterCurrentPage+=1,this.characterContainerPanel[this.characterCurrentPage-1].active=!0):this.characterCurrentPage==this.characterPages&&(this.characterCurrentPage=1,this.characterContainerPanel[0].active=!0),this.pagesLabel.string=this.characterCurrentPage+"/"+this.characterPages},prevPlayer:function(){for(var e=0;e<this.characterPages;e++)this.characterContainerPanel[e].active=!1;this.characterCurrentPage>1?(this.characterCurrentPage-=1,this.characterContainerPanel[this.characterCurrentPage-1].active=!0):1==this.characterCurrentPage&&(this.characterCurrentPage=this.characterPages,this.characterContainerPanel[this.characterPages-1].active=!0),this.pagesLabel.string=this.characterCurrentPage+"/"+this.characterPages}}),cc._RFpop()},{}],Coin:[function(e,t,a){"use strict";cc._RFpush(t,"d1b53WDO7ZOk5UMQBMWKztp","Coin"),cc.Class({"extends":cc.Component,properties:{pickRadius:3},onLoad:function(){this.getComponent(cc.Sprite).setVisible(!1),this.animate()},animate:function(){var e=cc.moveBy(1.5,cc.p(0,3)),t=cc.moveBy(1.5,cc.p(0,-3));cc.log("animate"),this.node.runAction(cc.sequence(e,t))},getPlayerDistance:function(){var e=this.group.hexGroup.convertToWorldSpace(this.group.player.getPosition()),t=this.group.hexGroup.convertToWorldSpace(this.node.getPosition()),a=cc.pDistance(t,e);return a},onPicked:function(){this.game.gainScore(),this.node.destroy()},update:function(e){return this.group.hexGroup.convertToWorldSpace(this.node.getPosition()).y>96&&this.getComponent(cc.Sprite).setVisible(!0),this.getPlayerDistance()<=64&&cc.log(this.getPlayerDistance()),this.getPlayerDistance()<=this.pickRadius?void this.onPicked():void(this.group.hexGroup.convertToWorldSpace(this.node.getPosition()).y>480&&this.node.destroy())}}),cc._RFpop()},{}],GameOver:[function(e,t,a){"use strict";cc._RFpush(t,"b258etlzgRNb6YHsJ9c9ErV","GameOver"),cc.Class({"extends":cc.Component,properties:{label:{"default":null,type:cc.Label},label2:{"default":null,type:cc.Label}},onLoad:function(){},showScore:function(e){1==e?this.label.string=e.toString()+" Punkt":this.label.string=e.toString()+" Punkte"},showHighscore:function(e){this.label2.string="Highscore: "+e.toString()}}),cc._RFpop()},{}],Game:[function(e,t,a){"use strict";cc._RFpush(t,"e602cjUNxZAkZb6gZ7H0fxU","Game"),cc.Class({"extends":cc.Component,properties:{hexagonGroup:{"default":null,type:cc.Node},scoreDisplay:{"default":null,type:cc.Label},atlas:{"default":null,type:cc.SpriteAtlas},gameplayWindow:{"default":null,type:cc.Node},gameOverMenu:{"default":null,type:cc.Node},background:{"default":null,type:cc.Node},pausePanel:{"default":null,type:cc.Node},sound:{"default":null,type:cc.Node},playPauseButton:{"default":null,type:cc.Node},atlasPlayPause:{"default":null,type:cc.SpriteAtlas}},onLoad:function(){this.GameState=cc.Enum({Menu:-1,Run:-1,Over:-1}),this.gameState=this.GameState.Ready,this.hexagonGroup.getComponent("HexagonGroup").game=this,this.reset()},startGame:function(){this.gameState=this.GameState.Run},reset:function(){this.score=0,this.sticky=!1,this.flipped=!1,this.gameOverMenu.active=!1,this.pausePanel.active=!1,this.startGame()},displayMenu:function(){this.gameState=this.GameState.Menu,this.hexagonGroup.getComponent("HexagonGroup").stop(),cc.director.loadScene("_start")},togglePause:function(){cc.director.isPaused()?(cc.director.resume(),this.playPauseButton.getComponent(cc.Button).normalSprite=this.atlasPlayPause.getSpriteFrame("btn_pause_normal"),this.playPauseButton.getComponent(cc.Button).pressedSprite=this.atlasPlayPause.getSpriteFrame("btn_pause_hover"),this.playPauseButton.getComponent(cc.Button).hoverSprite=this.atlasPlayPause.getSpriteFrame("btn_pause_hover"),this.pausePanel.active=!1):(cc.director.pause(),this.playPauseButton.getComponent(cc.Button).normalSprite=this.atlasPlayPause.getSpriteFrame("btn_pauseplay_normal"),this.playPauseButton.getComponent(cc.Button).pressedSprite=this.atlasPlayPause.getSpriteFrame("btn_pauseplay_hover"),this.playPauseButton.getComponent(cc.Button).hoverSprite=this.atlasPlayPause.getSpriteFrame("btn_pauseplay_hover"),this.pausePanel.active=!0)},gainScore:function(){this.score+=1,this.scoreDisplay.string=this.score.toString()},stick:function(e){this.toggleStickiness(),setTimeout(this.toggleStickiness.bind(this),e)},flipDirection:function(e){this.toggleFlip()},toggleFlip:function(){this.flipped=!this.flipped},toggleStickiness:function(){this.sticky=!this.sticky},gameOver:function(){var e=cc.sys.localStorage,t=this.score,a="highscore",i=e.getItem(a);null!=i?t>i&&e.setItem(a,t):e.setItem(a,t),this.newHighscore=e.getItem(a),this.gameState=this.GameState.Over,this.gameOverMenu.active=!0,this.gameOverMenu.getComponent("GameOver").showScore(this.score),this.gameOverMenu.getComponent("GameOver").showHighscore(this.newHighscore),this.hexagonGroup.getComponent("HexagonGroup").stop();var r=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,t){if(r.gameState==r.GameState.Over)switch(e){case cc.KEY.space:cc.director.loadScene("_game")}}},r.node)}}),cc._RFpop()},{}],HexagonGroup:[function(e,t,a){"use strict";cc._RFpush(t,"c7e2cW7njZES6PwqBid7m2Z","HexagonGroup"),cc.Class({"extends":cc.Component,properties:{gridSizeX:0,gridSizeY:0,hexagon:{"default":null,type:cc.Prefab},coin:{"default":null,type:cc.Prefab},background:{"default":null,type:cc.Node},player:{"default":null,type:cc.Node},spawnSlides:{"default":!0}},onLoad:function(){this.reset()},reset:function(){this.running=!1,this.playerHasMoved=!1,this.setInputControl(),this.level_base=[],this.level_overlay=[],this.playerCol=2,this.playerRow=0,this.playerMove=!0,this.playerSlide=!1,this.playerJumping=!1,this.speed=64,this.hexagonArray=[],this.hexagonWidth=64,this.hexagonHeight=64,this.minRow=0,this.lastMove="left",this.currentDepth=0,this.node.removeChild(this.player),this.hexGroup=new cc.Node,this.hexGroup.setAnchorPoint(cc.p(0,1)),this.hexGroup.setPosition(cc.p(0,0)),this.node.addChild(this.hexGroup),this.hexGroup.x+=this.hexagonWidth/2+(480-this.gridSizeX*this.hexagonWidth)/2,this.hexGroup.y-=this.hexagonHeight+320,this.generatePredefinedRows(this.gridSizeY,this.gridSizeX,1),this.generatePredefinedRows(this.gridSizeY,this.gridSizeX,this.getRandomArbitrary(2,72));for(var e=0;e<this.gridSizeY;e++)this.addHexagonRow(e);this.hexGroup.addChild(this.player),this.player.getComponent("Player").group=this;var t=this.hexagonWidth*(2*this.playerCol+1+this.playerRow%2)/2-this.hexagonWidth/2,a=this.hexagonHeight*(3*-this.playerRow+1)/4+32;this.markerStartPosition=cc.p(t,a),this.player.setPosition(this.markerStartPosition),this.player.setLocalZOrder(1e3),this.playerState="neutral",this.leftUp=!1,this.rightUp=!1,this.canStepLeft=!1,this.canStepRight=!1,this.game.background.setPosition(0,1190);var i=cc.sys.localStorage,r=i.getItem("player");this.player.getComponent("Player").player.spriteFrame=this.player.getComponent("Player").atlas.getSpriteFrame("player_"+r),cc.sys.localStorage.setItem("bg_music","notplaying")},startGame:function(){this.running||(this.running=!0,this.checkNextSteps())},stop:function(){this.running=!1},addHexagonRow:function(e){this.hexagonArray[e]=[];var t=this.gridSizeX;e%2==1&&(t-=1);for(var a=0;a<t;a++){var i=this.hexagonWidth*a+this.hexagonWidth/2*(e%2),r=this.hexagonHeight*e/4*3,s=cc.instantiate(this.hexagon);s.getComponent("Hexagon").group=this,s.getComponent("Hexagon").row=e,s.getComponent("Hexagon").col=a,s.getComponent("Hexagon").setSpriteFrame(this.getFrameFromId(this.level_base[e][a])),s.getComponent("Hexagon").setOverlay(this.getFrameFromId(this.level_overlay[e][a])),s.setPosition(cc.p(i,r)),s.setLocalZOrder(this.currentDepth),this.currentDepth-=1,this.hexagonArray[e][a]=s,this.hexGroup.addChild(s)}},generatePredefinedRows:function(e,t,a){var i=[];switch(a){case 1:i=[[1,41,1,1],[44,41,1,1,44],[1,41,1,1],[44,1,41,1,31],[1,1,41,1],[10,1,41,41,44],[43,41,1,43],[44,1,41,41,44],[32,41,1,41],[1,1,41,1,10],[1,41,1,31]];break;case 2:i=[[44,1,1,1,44],[99,9,8,99],[99,99,11,99,99],[99,8,41,99],[99,8,99,7,99],[8,41,99,41],[41,99,13,99,7],[41,8,99,8],[99,41,99,41,99],[99,99,8,99],[99,1,42,1,99],[44,1,1,44]];break;case 3:i=[[1,1,1,41,1],[10,1,1,1],[1,42,1,7,11],[1,7,9,31],[10,43,1,8,42],[1,1,7,41],[1,1,10,1,1],[9,41,1,44],[32,1,42,43,1],[1,1,1,9],[9,7,10,1,7],[1,41,8,41]];break;case 4:i=[[1,1,1,1,1],[1,1,1,1],[1,41,99,1,1],[1,1,1,10],[1,1,1,1,1],[11,99,9,1],[32,1,1,99,41],[41,1,7,1],[1,1,42,1,1],[1,99,1,31],[1,1,1,99,1],[1,1,99,1]];break;case 5:i=[[1,1,1,1,1],[1,1,1,1],[1,9,1,99,1],[11,1,1,41],[1,99,8,10,1],[1,41,1,1],[1,44,1,1,1],[42,1,11,44],[1,1,1,41,1],[41,1,1,99],[1,43,1,42,1],[1,1,1,31]];break;case 6:i=[[1,1,1,1,1],[1,10,11,1],[1,1,1,1,1],[1,42,8,1],[1,99,8,41,1],[1,1,44,43],[1,10,1,1,1],[1,1,1,31],[1,41,1,41,1],[11,1,99,43],[1,9,1,1,1],[42,1,1,1]];break;case 7:i=[[1,1,1,1,1],[1,1,7,1],[1,11,1,1,1],[44,8,1,31],[42,7,1,1,1],[1,99,1,99],[8,1,42,99,8],[1,44,1,1],[1,1,11,10,1],[32,99,41,7],[7,1,1,1,1],[1,42,1,1]];break;case 8:i=[[1,1,1,1,1],[1,7,1,1],[1,41,1,1,1],[43,44,7,11],[1,1,1,1,10],[99,1,1,8],[99,1,9,43,42],[41,44,1,9],[9,99,1,41,31],[1,1,41,10],[1,1,7,44,1],[1,1,1,1]];break;case 9:i=[[1,1,1,1,1],[1,8,1,1],[1,1,1,8,1],[10,11,31,1],[1,42,1,44,99],[8,1,41,1],[99,9,11,10,1],[41,41,9,41],[43,10,7,1,8],[7,99,7,1],[1,1,1,41,1],[1,1,1,41]];break;case 10:i=[[1,1,1,1,1],[1,8,1,1],[1,1,1,8,1],[10,11,31,1],[1,42,1,44,99],[8,1,41,1],[99,9,11,10,1],[41,41,9,41],[43,10,7,1,8],[7,99,7,1],[1,1,1,41,1],[1,1,1,41]];break;case 11:i=[[7,1,1,1,1],[1,8,7,8],[1,1,9,41,1],[9,41,1,9],[1,41,1,43,1],[11,1,1,1],[1,43,7,41,1],[41,1,1,31],[41,10,1,1,8],[1,99,42,1],[1,1,10,1,1],[32,1,1,1]];break;case 12:i=[[1,1,1,1,1],[7,1,1,13],[1,41,41,1,1],[44,13,1,1],[8,10,7,1,1],[11,1,9,44],[7,43,1,31,8],[42,99,1,99],[1,10,1,41,1],[9,7,13,8],[41,8,1,1,1],[1,1,1,43]];break;case 13:i=[[1,99,1,1,1],[1,13,13,1],[1,11,1,1,1],[41,1,1,11],[8,1,41,41,1],[9,10,1,1],[99,41,42,32,1],[1,10,41,1],[1,9,8,1,9],[1,13,1,41],[1,41,44,1,1],[43,1,32,1]];break;case 14:i=[[1,1,1,1,1],[1,8,1,1],[41,1,1,1,1],[11,41,13,1],[1,1,44,1,1],[13,42,1,31],[1,1,1,41,1],[31,41,1,1],[44,41,9,1,8],[10,1,1,1],[1,8,1,7,1],[1,1,1,1]];break;case 15:i=[[1,1,1,1,1],[7,1,10,1],[1,13,41,7,1],[1,1,1,1],[10,9,11,13,1],[10,1,41,1],[7,1,1,41,1],[42,1,10,8],[1,44,7,1,1],[11,9,41,1],[41,1,1,1,8],[42,1,1,1]];break;case 16:i=[[1,1,1,1,1],[1,13,13,1],[1,11,1,1,1],[41,32,43,1],[1,1,99,13,1],[1,42,1,1],[10,1,1,1,1],[42,1,32,10],[44,7,1,1,1],[1,99,9,1],[1,1,1,42,1],[11,1,8,9]];break;case 17:i=[[1,1,1,1,1],[99,1,10,1],[1,11,41,1,1],[1,43,1,41],[41,1,1,1,1],[10,13,1,11],[1,1,41,1,99],[42,1,7,10],[32,41,99,41,8],[9,1,42,1],[1,8,44,41,1],[41,1,9,1]];break;case 18:i=[[1,1,1,1,1],[99,1,10,1],[1,11,41,1,1],[1,43,1,41],[41,1,1,1,1],[10,13,1,11],[1,1,41,1,99],[42,1,7,10],[32,41,99,41,8],[9,1,42,1],[1,8,44,41,1],[41,1,9,1]];break;case 19:i=[[99,9,1,1,1],[7,1,1,9],[99,41,9,32,1],[41,10,1,1],[43,44,99,1,13],[41,9,1,1],[1,8,41,31,1],[7,9,99,10],[41,1,8,1,99],[1,1,7,1],[1,10,1,1,99],[1,1,1,1]];break;case 20:i=[[99,1,1,1,1],[44,1,1,1],[1,43,31,11,1],[9,9,1,1],[1,7,8,7,42],[43,7,13,1],[1,44,8,1,44],[1,41,31,41],[1,11,1,9,1],[1,1,1,1],[9,1,1,43,1],[42,1,43,1]];break;case 21:i=[[1,7,1,1,1],[1,13,10,7],[1,8,1,1,1],[41,44,1,9],[43,9,7,1,8],[10,1,1,43],[1,7,44,9,1],[32,99,1,41],[99,1,1,10,8],[41,1,99,31],[1,1,10,44,1],[41,1,1,44]];break;case 22:i=[[1,1,1,1,1],[1,8,13,1],[1,7,1,1,1],[99,1,11,7],[1,9,13,1,1],[1,42,31,41],[43,1,10,8,1],[41,1,1,31],[1,11,99,42,1],[8,9,1,43],[41,1,1,99,1],[7,42,7,1]];break;case 23:i=[[1,1,1,7,1],[1,13,1,1],[1,1,9,1,44],[32,1,11,1],[1,1,41,7,8],[9,13,8,1],[1,1,41,32,9],[42,1,8,42],[41,1,44,7,1],[32,1,1,41],[1,44,1,9,1],[1,1,9,1]];break;case 24:i=[[10,41,1,1,1],[1,13,41,1],[1,10,1,9,1],[1,11,1,1],[7,41,1,99,1],[13,1,10,1],[1,7,41,41,31],[8,1,1,13],[10,42,1,8,42],[43,1,99,9],[1,41,1,1,1],[1,9,41,1]];break;case 25:i=[[1,1,1,99,1],[10,11,7,1],[1,1,1,1,7],[9,1,41,44],[41,7,41,10,43],[44,42,8,9],[1,41,1,7,31],[9,13,10,1],[32,99,1,7,99],[1,1,10,9],[43,41,99,41,7],[1,1,13,41]];break;case 26:i=[[99,1,1,1,1],[41,7,1,43],[99,1,1,1,99],[7,31,11,10],[41,9,13,1,1],[9,41,99,7],[43,13,31,7,99],[1,1,41,42],[10,42,1,9,1],[99,7,1,1],[99,9,1,13,1],[1,1,99,8]];break;case 27:i=[[9,1,1,1,1],[13,1,1,7],[1,1,10,7,11],[9,99,1,41],[1,1,1,41,1],[1,31,13,7],[8,99,41,9,10],[1,42,8,1],[1,44,1,99,13],[41,9,1,10],[8,1,7,41,1],[1,1,1,1]];break;case 28:i=[[1,7,1,1,1],[1,1,41,44],[44,11,1,99,10],[44,13,1,99],[44,1,1,1,99],[8,1,7,31],[99,42,1,1,9],[43,10,1,13],[9,41,1,1,1],[8,1,11,41],[1,1,41,1,8],[32,44,8,42]];break;case 29:i=[[7,1,1,1,1],[9,41,1,8],[1,1,1,7,1],[1,11,13,8],[10,43,99,7,44],[13,44,1,1],[99,1,7,10,42],[1,1,1,41],[1,1,1,1,31],[32,13,1,99],[1,8,1,9,1],[1,41,1,1]];break;case 30:i=[[1,7,1,1,1],[1,1,7,1],[32,9,8,10,1],[13,1,1,8],[1,41,1,9,99],[8,10,1,7],[41,99,1,8,41],[9,44,7,1],[7,9,1,13,10],[32,1,8,41],[41,43,1,10,41],[1,1,99,99]];break;case 31:i=[[1,1,1,1,1],[43,1,7,1],[7,13,1,1,8],[1,1,32,41],[1,11,41,8,1],[99,13,41,44],[10,1,1,7,44],[1,1,1,99],[1,41,1,42,99],[9,1,10,9],[1,1,7,41,1],[1,8,7,1]];break;case 32:i=[[1,8,1,1,44],[1,1,1,44],[1,13,41,1,31],[10,10,1,11],[41,11,8,7,1],[1,1,13,1],[1,9,1,10,43],[1,1,42,1],[32,42,41,9,41],[1,7,1,1],[43,1,9,41,11],[1,1,42,41]];break;case 33:i=[[99,99,1,1,1],[99,41,1,43],[99,99,10,1,32],[13,7,1,41],[1,32,44,1,41],[1,41,1,1],[41,1,99,13,43],[1,7,41,1],[7,1,44,1,99],[1,1,1,10],[99,1,1,1,43],[1,1,32,44]];break;case 34:i=[[99,1,1,1,1],[99,1,41,1],[99,44,9,10,1],[99,9,10,13],[99,41,1,1,1],[7,41,31,1],[8,1,11,8,1],[1,1,1,1],[32,8,1,7,41],[1,41,1,1],[11,9,1,1,1],[42,42,10,41]];break;case 35:i=[[44,1,1,1,1],[44,41,9,7],[10,8,1,1,1],[1,10,99,43],[7,32,99,9,1],[41,1,41,43],[1,8,32,99,8],[41,41,7,1],[9,13,9,1,10],[1,1,1,1],[1,10,44,1,1],[8,1,9,1]];break;case 36:i=[[1,1,1,1,1],[11,1,1,1],[43,1,31,7,1],[41,42,1,41],[44,1,1,42,1],[99,1,11,7],[8,99,13,1,44],[31,10,8,1],[1,1,41,10,8],[7,9,42,1],[1,1,1,9,1],[1,99,1,1]];break;case 37:i=[[1,99,1,1,1],[1,1,41,1],[99,1,1,1,1],[11,1,7,1],[11,13,99,9,43],[7,99,8,1],[41,1,42,10,31],[42,1,41,1],[8,7,13,1,1],[1,1,1,1],[1,9,8,10,8],[1,1,9,1]];break;case 38:i=[[1,1,1,1,1],[1,9,1,1],[10,7,99,11,1],[41,13,8,1],[10,9,1,41,43],[99,8,42,41],[7,1,1,13,1],[8,13,11,7],[43,1,1,1,41],[99,41,8,44],[1,42,8,1,1],[1,1,99,99]];break;case 39:i=[[1,1,1,1,99],[1,9,1,99],[10,7,99,11,99],[41,13,8,1],[10,9,1,41,43],[99,8,42,41],[7,1,1,13,1],[8,13,11,7],[43,1,1,1,41],[99,41,8,44],[1,42,8,1,1],[1,1,99,99]];break;case 40:i=[[1,99,11,1,1],[1,99,99,1],[41,1,99,31,1],[11,99,99,41],[99,7,99,10,43],[99,1,99,1],[43,1,10,99,1],[7,42,1,1],[41,1,13,41,1],[8,1,1,1],[10,7,1,1,99],[1,42,44,41]];break;case 41:i=[[1,44,1,99,99],[7,9,31,99],[44,7,1,31,99],[10,8,8,43],[1,1,41,9,1],[1,13,1,7],[43,99,99,11,1],[1,99,1,1],[41,10,99,7,31],[9,99,41,42],[10,8,99,1,41],[41,99,44,41]];break;case 42:i=[[1,1,1,1,1],[1,7,13,1],[1,9,1,1,1],[10,1,44,41],[32,1,44,41,44],[7,1,9,9],[41,1,13,1,8],[1,1,1,10],[43,9,1,41,1],[9,7,11,32],[1,41,1,41,99],[1,10,42,99]];break;case 43:i=[[10,1,1,1,1],[10,13,1,1],[10,41,1,1,1],[44,1,1,41],[10,1,44,9,1],[41,10,1,41],[44,11,41,1,1],[44,1,13,31],[99,44,41,1,1],[42,32,1,8],[1,8,1,11,1],[41,1,9,42]];break;case 44:i=[[8,8,1,1,1],[1,1,99,1],[1,41,99,13,1],[1,99,7,10],[41,99,31,1,44],[9,99,1,99],[43,1,41,1,31],[1,7,8,1],[11,99,1,99,43],[41,99,41,1],[10,9,99,99,1],[42,41,99,7]];break;case 45:i=[[1,1,1,1,1],[11,41,10,1],[1,1,13,9,1],[13,41,1,1],[1,42,41,31,41],[8,32,1,10],[1,9,41,1,43],[1,99,13,1],[41,1,1,99,8],[11,1,99,41],[1,41,1,9,1],[1,42,1,41]];break;case 46:i=[[1,1,1,1,1],[1,10,1,41],[44,1,1,99,1],[41,31,1,99],[8,41,31,31,1],[8,10,1,44],[1,1,1,1,9],[1,41,10,1],[13,44,13,9,1],[1,1,41,41],[1,41,9,8,43],[31,1,1,44]];break;case 47:i=[[1,1,1,1,1],[1,10,1,41],[44,1,1,99,1],[41,31,1,99],[8,41,31,31,1],[8,10,1,44],[1,1,1,1,9],[1,41,10,1],[13,44,13,9,1],[1,1,41,41],[1,41,9,8,43],[31,1,1,44]];break;case 48:i=[[1,32,1,1,1],[1,1,1,1],[1,11,1,41,1],[1,1,13,1],[1,42,31,31,43],[41,99,1,11],[1,7,1,31,1],[10,8,41,9],[44,7,1,1,1],[43,1,13,41],[10,9,99,99,42],[1,10,7,1]];break;case 49:i=[[1,1,1,7,1],[41,44,1,31],[1,1,8,7,1],[1,43,41,7],[99,1,1,1,10],[31,44,41,10],[1,44,44,7,41],[1,44,44,1],[99,41,44,44,11],[7,43,1,1],[1,31,8,41,99],[1,1,42,10]];break;case 50:i=[[44,9,1,1,1],[41,1,99,7],[8,1,99,7,43],[8,99,7,1],[1,99,10,41,31],[1,99,1,99],[43,99,41,99,11],[1,1,9,41],[10,8,9,99,41],[1,9,10,41],[7,44,99,99,41],[1,44,99,42]];break;case 51:i=[[99,99,1,1,1],[99,1,99,1],[10,1,99,13,10],[7,11,99,10],[41,1,43,99,10],[42,1,7,99],[32,13,41,7,99],[41,1,1,7],[1,11,1,41,41],[99,1,99,1],[99,99,1,1,41],[99,99,42,31]];break;case 52:i=[[99,1,1,1,10],[41,1,8,10],[7,9,1,7,99],[8,41,10,99],[8,41,13,99,10],[41,1,99,10],[44,7,99,13,10],[11,99,99,41],[1,99,7,99,41],[1,9,7,8],[32,1,1,1,7],[42,9,1,31]];break;case 53:i=[[44,1,1,7,1],[99,1,7,41],[99,1,31,9,9],[41,41,7,7],[41,31,13,1,99],[13,31,1,10],[10,31,1,11,44],[31,44,1,41],[31,1,10,8,8],[1,7,1,10],[44,41,7,42,41],[41,7,41,44]];break;case 54:i=[[99,1,9,9,10],[99,13,41,1],[10,99,41,9,10],[41,99,1,1],[10,13,99,31,1],[99,99,31,13],[99,99,41,31,1],[10,1,1,31],[10,11,1,31,31],[8,41,13,31],[8,41,1,1,44],[41,1,42,1]];break;case 55:i=[[99,1,9,9,10],[99,13,41,1],[10,99,41,9,10],[41,99,1,1],[10,13,99,31,1],[99,99,31,13],[99,99,41,31,1],[10,1,1,31],[10,11,1,31,31],[8,41,13,31],[8,41,7,7,44],[41,1,42,1]];break;case 56:i=[[10,1,1,1,10],[99,13,1,99],[1,99,99,13,99],[7,99,1,99],[41,31,11,1,31],[41,7,1,1],[41,7,99,1,31],[41,7,1,44],[42,41,7,1,44],[32,10,41,41],[8,32,32,41,8],[8,32,41,44]];break;case 57:i=[[44,44,1,99,1],[7,7,1,99],[10,1,1,99,41],[1,99,1,99],[11,99,1,99,41],[99,13,1,99],[41,99,1,1,41],[41,99,41,1],[42,99,44,8,10],[99,99,8,1],[41,99,7,1,43],[41,10,7,10]];break;case 58:i=[[32,32,1,1,1],[32,32,1,1],[10,10,32,41,7],[10,11,7,1],[10,1,9,41,9],[41,1,9,9],[11,41,7,42,1],[8,7,11,1],[41,8,7,41,10],[41,7,13,44],[42,41,1,1,44],[1,10,42,1]];break;case 59:i=[[1,1,1,1,1],[1,1,1,41],[41,1,1,99,11],[99,1,99,42],[41,99,1,99,1],[99,31,99,13],[41,99,99,99,10],[8,1,1,10],[8,41,1,7,44],[1,99,7,1],[44,99,10,7,31],[41,1,10,1]];break;case 60:i=[[10,10,1,1,8],[10,10,1,8],[44,10,1,1,31],[44,9,99,8],[44,44,1,99,10],[44,1,13,99],[10,1,99,99,10],[43,1,31,41],[32,1,9,99,41],[9,9,8,41],[32,7,1,13,41],[7,7,8,41]];break;case 61:i=[[44,44,1,1,10],[44,1,1,1],[44,99,8,1,31],[7,41,10,31],[41,7,8,1,31],[1,7,41,31],[43,1,7,8,31],[1,13,1,9],[32,8,99,9,43],[32,1,9,41],[32,8,41,41,8],[32,1,10,1]];break;case 62:i=[[44,1,1,1,1],[41,31,8,41],[41,31,9,8,10],[1,99,11,1],[41,99,9,41,10],[8,99,13,9],[1,8,99,42,10],[8,41,99,9],[44,41,10,99,41],[13,41,99,1],[9,7,1,31,44],[7,41,31,10]];break;case 63:i=[[1,1,1,1,1],[44,1,1,44],[44,99,43,99,44],[99,11,41,99],[44,99,43,99,44],[99,41,7,99],[44,99,43,99,44],[99,42,41,99],[44,99,43,99,44],[99,41,10,99],[44,1,41,1,44],[1,41,41,1]];break;case 64:i=[[1,1,1,1,1],[1,32,42,1],[44,32,10,41,44],[32,10,41,1],[32,10,13,1,1],[1,10,44,1],[1,41,10,31,44],[1,41,10,31],[1,1,13,10,31],[1,44,10,1],[44,1,10,1,1],[44,1,1,44]];break;case 65:i=[[44,1,41,1,44],[1,32,31,1],[1,32,44,31,1],[32,44,44,32],[1,31,44,32,1],[1,31,32,1],[10,10,43,10,10],[1,41,11,1],[1,1,1,1,1],[7,1,1,7],[1,1,1,1,1],[44,41,42,44]];break;case 66:i=[[44,1,1,1,44],[1,43,43,1],[1,41,1,41,1],[1,44,44,1],[1,13,1,13,1],[10,10,10,10],[1,1,11,1,1],[1,1,1,1],[1,44,1,44,1],[1,1,1,1],[1,1,1,41,1],[44,42,41,44]];break;case 67:i=[[44,1,1,1,44],[99,99,8,99],[99,99,11,99,99],[99,8,41,99],[99,8,99,7,99],[8,41,99,41],[41,99,13,99,7],[41,8,99,8],[99,41,99,41,99],[99,99,8,99],[99,1,42,1,99],[44,1,1,44]];break;case 68:i=[[1,13,13,13,1],[10,10,10,10],[1,41,41,41,1],[1,1,1,1],[1,13,13,13,1],[10,10,10,10],[1,41,41,41,1],[1,1,1,1],[1,13,13,13,1],[10,10,10,10],[1,41,41,41,1],[1,1,1,1]];break;case 69:i=[[1,1,1,1,1],[99,99,1,1],[99,99,1,1,44],[99,1,13,1],[99,1,10,41,99],[1,13,1,99],[1,10,41,99,99],[43,1,99,99],[13,13,1,99,99],[1,10,1,99],[99,41,1,1,99],[99,1,1,1]];break;case 70:i=[[44,1,43,1,44],[1,32,10,1],[44,32,41,10,44],[32,41,41,10],[44,31,41,10,44],[1,31,10,1],[44,32,41,10,44],[32,41,41,10],[44,31,41,10,44],[1,31,10,1],[44,1,41,1,44],[1,41,41,1]];break;case 71:i=[[1,1,1,1,1],[1,1,1,1],[44,44,11,44,44],[1,41,41,1],[1,43,10,43,1],[13,13,13,1],[1,1,10,1,1],[1,41,41,1],[1,43,10,43,1],[1,13,13,13],[1,1,10,1,1],[1,42,41,1]]}for(var r=[],s=0;s<i.length;s++){for(var o=[],n=0;n<i[s].length;n++)switch(i[s][n]){case 41:o.push(1);break;case 42:o.push(1);break;case 43:o.push(1);break;case 44:o.push(1);break;default:o.push(i[s][n])}r.push(o)}this.level_base=this.level_base.concat(r);for(var c=[],s=0;s<i.length;s++){for(var o=[],n=0;n<i[s].length;n++)switch(i[s][n]){case 41:o.push(5);break;case 42:o.push(12);break;case 43:o.push(6);break;case 44:o.push(4);break;default:o.push(0)}c.push(o)}this.level_overlay=this.level_overlay.concat(c)},generateRandomRows:function(e,t){for(var a=[],i=[],r=[],s=[],o=0;o<e;o++){var n=t,c=0;o%2==1&&(n-=1);for(var l=0;l<n;l++)if(0===o||o===e-1)i[l]=1;else if(c<=1){var h=Math.random();i[l]=1,h<=.1?(i[l]=8,c+=1):h>.1&&h<.2?(i[l]=7,c+=1):h>.2&&h<.3?(i[l]=10,c+=1):h>.3&&h<.4&&(i[l]=11,c+=1)}else i[l]=1;a[o]=i,i=[]}for(var p=2,u=0;u<e;u++){var n=t;u%2==1&&(n-=1);for(var g=0,d=0;d<n;d++){s[d]=0;var y=Math.random();if(y<.2)u>0&&1==a[u][d]&&g<p&&(d>0&&d<n?4!=s[d-1]&&(s[d]=4,g++):(s[d]=4,g++));else if(y>=.4&&y<.85)u>0&&(1==a[u][d]||2==a[u][d])&&Math.random()<.4&&(s[d]=5);else if(u>0&&0!=a[u][d]&&10!=a[u][d]){var f=Math.random();f<=.2?s[d]=6:f>.4&&f<=.65&&(s[d]=12)}}r[u]=s,s=[]}if(this.spawnSlides)for(var m=this.getRandomArbitrary(3,7),v=this.getRandomArbitrary(1,3),b=this.getRandomArbitrary(1,13),C=v,S=0;S<m;S++){var h=Math.random();S==m-1||((b+S)%2==0?h<.51?(a[b+S][C]=32,r[b+S][C]=98):(a[b+S][C+1]=31,r[b+S][C+1]=98,C+=1):h<.51?(a[b+S][C-1]=32,r[b+S][C-1]=98,C-=1):(a[b+S][C]=31,r[b+S][C]=98))}this.level_base=this.level_base.concat(a),this.level_overlay=this.level_overlay.concat(r)},getRandomArbitrary:function(e,t){return Math.round(Math.random()*(t-e)+e)},getFrameFromId:function(e){var t="";switch(e){case 1:t="isocube";break;case 2:t="othercube";break;case 3:t="waterplane";break;case 31:t="waterplane_l";break;case 32:t="waterplane_r";break;case 4:t=Math.random()>.5?"tree2":"tree";break;case 5:t="star";break;case 6:t="flip";break;case 7:t="sticky";break;case 8:t="trap";break;case 9:t="zacken";break;case 10:t="lava";break;case 11:t="posion";break;case 12:t="potion";break;case 13:t="treejump";break;case 99:t="missing";break;default:t="none"}return t},setInputControl:function(){var e=this;cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,swallowTouches:!1,onTouchBegan:function(t,a){if(e.game.gameState===e.game.GameState.Run)return e.running||e.playerHasMoved||e.startGame(),t.getLocation().x<window.innerWidth/2?(e.leftUp=!0,e.rightUp=!1,e.playerHasMoved||(e.playerHasMoved=!0),e.game.flipped&&(e.leftUp=!1,e.rightUp=!0)):(e.leftUp=!1,e.rightUp=!0,e.playerHasMoved||(e.playerHasMoved=!0),e.game.flipped&&(e.leftUp=!0,e.rightUp=!1)),!0},onTouchEnded:function(t,a){t.getLocation().x<window.innerWidth/2?(e.leftUp=!1,e.game.flipped&&(e.rightUp=!1)):(e.rightUp=!1,e.game.flipped&&(e.leftUp=!1))}},e.node),cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(t,a){if(e.game.gameState===e.game.GameState.Run&&(e.running||e.playerHasMoved||e.startGame(),!this.playerJumping))switch(t){case cc.KEY.a:e.leftUp=!0,e.rightUp=!1,e.playerHasMoved||(e.playerHasMoved=!0),e.game.flipped&&(e.leftUp=!1,e.rightUp=!0);break;case cc.KEY.left:e.leftUp=!0,e.rightUp=!1,e.playerHasMoved||(e.playerHasMoved=!0),e.game.flipped&&(e.leftUp=!1,e.rightUp=!0);break;case cc.KEY.d:e.leftUp=!1,e.rightUp=!0,e.playerHasMoved||(e.playerHasMoved=!0),e.game.flipped&&(e.leftUp=!0,e.rightUp=!1);case cc.KEY.right:e.leftUp=!1,e.rightUp=!0,e.playerHasMoved||(e.playerHasMoved=!0),e.game.flipped&&(e.leftUp=!0,e.rightUp=!1)}},onKeyReleased:function(t,a){switch(t){case cc.KEY.a:e.leftUp=!1,e.game.flipped&&(e.rightUp=!1);break;case cc.KEY.left:e.leftUp=!1,e.game.flipped&&(e.rightUp=!1);break;case cc.KEY.d:e.rightUp=!1,e.game.flipped&&(e.leftUp=!1);break;case cc.KEY.right:e.rightUp=!1,e.game.flipped&&(e.leftUp=!1);break;case cc.KEY.escape:e.game.displayMenu()}}},e.node)},checkNextSteps:function(){var e=this.playerCol,t=this.playerRow;t%2==1?(this.canStepLeft=this.hexagonArray[t+1][e].getComponent("Hexagon").canStepOverlay(),this.canStepRight=this.hexagonArray[t+1][e+1].getComponent("Hexagon").canStepOverlay()):4==this.playerCol?(this.canStepRight=!1,this.canStepLeft=this.hexagonArray[t+1][e-1].getComponent("Hexagon").canStepOverlay()):0==this.playerCol?(this.canStepLeft=!1,this.canStepRight=this.hexagonArray[t+1][e].getComponent("Hexagon").canStepOverlay()):(this.canStepLeft=this.hexagonArray[t+1][e-1].getComponent("Hexagon").canStepOverlay(),this.canStepRight=this.hexagonArray[t+1][e].getComponent("Hexagon").canStepOverlay())},placeMarker:function(e,t,a){this.playerMove=!1,this.playerCol=e,this.playerRow=t;var i=this.hexagonWidth*(2*e+1+t%2)/2-this.hexagonWidth/2,r=this.hexagonHeight*(3*t+1)/4+32;this.player.getComponent("Player").move(i,r,a,!1)},jumpMarker:function(e,t,a){this.playerJumping=!0,this.playerCol=e,this.playerRow=t;var i=this.hexagonWidth*(2*e+1+t%2)/2-this.hexagonWidth/2,r=this.hexagonHeight*(3*t+1)/4+32;this.player.getComponent("Player").move(i,r,a,!0)},moveFinished:function(){try{this.game.flipped=!1,this.hexagonArray[this.playerRow][this.playerCol].getComponent("Hexagon").animateBounce(),this.player.getComponent("Player").bounceWithCube(),this.hexagonArray[this.playerRow][this.playerCol].getComponent("Hexagon").checkAction(),this.playerMove=!0,this.speed+=.5,this.checkNextSteps()}catch(e){this.player.getComponent("Player").dropToDeath()}},jumpFinished:function(){try{this.game.flipped=!1,this.hexagonArray[this.playerRow][this.playerCol].getComponent("Hexagon").animateBounce(),this.player.getComponent("Player").bounceWithCube(),this.playerJumping=!1,this.hexagonArray[this.playerRow][this.playerCol].getComponent("Hexagon").checkAction(),this.speed+=.5,this.checkNextSteps()}catch(e){this.player.getComponent("Player").dropToDeath()}},checkPlayerStatus:function(e,t,a,i){var r=this;switch(a){case"explosion":this.playerRow==e&&this.playerCol==t&&r.game.gameOver();break;case"trap":this.playerRow==e&&this.playerCol==t&&this.player.getComponent("Player").dropToDeath();break;case"poison":r.playerState="poisoned";var s=cc.sys.localStorage,o=s.getItem("player");r.player.getComponent("Player").player.spriteFrame=r.player.getComponent("Player").atlas.getSpriteFrame("player_"+o+"_poisoned"),setTimeout(function(){"poisoned"==r.playerState&&r.game.gameOver()},7e3);break;case"antipoison":r.playerState="neutral";var s=cc.sys.localStorage,o=s.getItem("player");r.player.getComponent("Player").player.spriteFrame=r.player.getComponent("Player").atlas.getSpriteFrame("player_"+o);break;case"missing":this.player.getComponent("Player").dropToDeath();break;case"spike":this.playerRow==e&&this.playerCol==t&&i&&r.game.gameOver()}},update:function(e){if(this.running){if(this.playerMove&&!this.game.sticky){var t=this.level_base[this.playerRow][this.playerCol];if(3==t||31==t||32==t){this.playerSlide=!0;var a=-1,i=this.gridSizeX;this.playerRow%2==0&&(i-=1);for(var r=0;r<i;r++){var s=this.level_base[this.playerRow+1];3!=s[r]&&31!=s[r]&&32!=s[r]||(a=r)}if(a>-1){var i=this.gridSizeX;this.playerRow%2==0&&(i-=1),i==this.gridSizeX?a<this.playerCol?this.placeMarker(a,this.playerRow+1,!1):this.placeMarker(a,this.playerRow+1,!0):i==this.gridSizeX-1&&(a<=this.playerCol?this.placeMarker(a,this.playerRow+1,!1):this.placeMarker(a,this.playerRow+1,!0))}else this.playerSlide=!1}if(this.playerMove&&!this.playerSlide&&!this.playerJumping){var i=this.gridSizeX;this.playerRow%2==0&&(i-=1),this.leftUp&&(this.playerCol>0||this.playerRow%2==1)?this.canStepLeft&&(this.lastMove="left",this.placeMarker(this.playerCol-(1-this.playerRow%2),this.playerRow+1,!0)):!this.leftUp||0!=this.playerCol&&this.playerRow%2!=1||this.placeMarker(this.playerCol-(1-this.playerRow%2),this.playerRow+1,!0),this.rightUp&&this.playerCol<this.gridSizeX-1?this.canStepRight&&(this.lastMove="right",this.placeMarker(this.playerCol+this.playerRow%2,this.playerRow+1,!1)):this.rightUp&&this.playerCol==i&&this.placeMarker(this.playerCol+this.playerRow%2,this.playerRow+1,!1)}}var o=this.speed*e;if(this.playerHasMoved){this.hexGroup.y-=o;var n=this.game.background.getPosition().y;n-=1,this.game.background.setPosition(0,n)}if(this.hexGroup.convertToWorldSpace(this.player.getPosition()).y>250){this.hexGroup.y-=(32+this.speed)*e;var n=this.game.background.getPosition().y;n-=2,this.game.background.setPosition(0,n)}this.hexGroup.convertToWorldSpace(this.player.getPosition()).y<100&&this.game.gameOver(),this.hexGroup.convertToWorldSpace(this.player.getPosition()).y<240;for(var c=!1,r=this.minRow;r<this.gridSizeY;r++)for(var l=0;l<this.gridSizeX;l++)(r%2===0||l<this.gridSizeX-1)&&this.hexGroup.convertToWorldSpace(this.hexagonArray[r][l].getPosition()).y<100&&(this.gridSizeY-this.playerRow<13&&(this.addHexagonRow(this.gridSizeY),this.gridSizeY++),this.gridSizeY>9&&this.gridSizeY%18==17&&(this.generatePredefinedRows(this.gridSizeY,this.gridSizeX,this.getRandomArbitrary(2,72)),this.generatePredefinedRows(this.gridSizeY,this.gridSizeX,this.getRandomArbitrary(2,72))),this.hexagonArray[r][l].runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(this.onFadedOut.bind(this.hexagonArray[r][l]),this))),c=!0);c&&this.minRow++}},onFadedOut:function(e){e.getComponent("Hexagon").state=e.getComponent("Hexagon").State.Invisible,
e.removeFromParent(!0)},traceNextPos:function(e){var t=e?this.level_overlay:this.level_base;this.playerRow%2==1?(console.log("Next left:"+t[(this.playerRow+1)%9][this.playerCol]),console.log("Next right:"+t[(this.playerRow+1)%9][this.playerCol+1])):(console.log("Next left:"+t[(this.playerRow+1)%9][this.playerCol-1]),console.log("Next right:"+t[(this.playerRow+1)%9][this.playerCol]))}}),cc._RFpop()},{}],Hexagon:[function(e,t,a){"use strict";cc._RFpush(t,"c3ac8uKV/BFyos9A/7h0f5p","Hexagon"),cc.Class({"extends":cc.Component,properties:{overlay:{"default":null,type:cc.Node},emmitter:{"default":null,type:cc.ParticleSystem},animation:{"default":null,type:cc.Animation},overlayType:"none",groundType:"none"},onLoad:function(){this.particles=this.emmitter,this.particles.stopSystem(),this.ground_tiles={DEFAULT:"none",NORMAL:"isocube",TRAP:"trap",STICKY:"sticky",FLIP:"flip",FATAL:"othercube",LAVA:"lava",POISON:"posion",SPIKE:"zacken",MISSING:"missing",JUMP:"treejump"},this.playerStatus="neutral",this.State=cc.Enum({Visible:-1,Invisible:-1}),this.spikeOut=!1,this.animation.parent=this,this.state=this.State.Visible},explosionParticlePlay:function(){this.state==this.State.Visible&&(this.group.checkPlayerStatus(this.row,this.col,"explosion"),this.particles.resetSystem(),this.overlay.removeFromParent(!0),this.getComponent(cc.Sprite).spriteFrame=this.group.game.atlas.getSpriteFrame("othercube2"))},trapDrop:function(){this.state==this.State.Visible&&(this.group.checkPlayerStatus(this.row,this.col,"trap"),this.getComponent(cc.Sprite).node.runAction(cc.moveBy(.3,cc.p(0,-300))))},setSpriteFrame:function(e){var t=this.getComponent(cc.Sprite);"zacken"===e?this.animation.play("zacken2"):(this.animation.stop(),t.spriteFrame=this.group.game.atlas.getSpriteFrame(e)),this.groundType=e},setOverlay:function(e){if("none"!==e){var t=this.overlay.addComponent(cc.Sprite);if(t.spriteFrame=this.group.game.atlas.getSpriteFrame(e),this.overlay.y+=48,this.overlayType=e,"star"===e){var a=cc.moveBy(1.5,cc.p(0,3)),i=cc.moveBy(1.5,cc.p(0,-3));t.node.runAction(cc.sequence(a,i)).repeatForever()}}},animateBounce:function(){var e=this.getComponent(cc.Sprite);e.node.runAction(cc.sequence(cc.moveBy(.1,cc.p(0,-3)),cc.moveBy(.1,cc.p(0,3))))},canStepOverlay:function(){var e=!0;switch(this.overlayType){case"tree":e=!1;break;case"tree2":e=!1;break;default:e=!0}return e},checkAction:function(){switch(this.groundType){case this.ground_tiles.NORMAL:break;case this.ground_tiles.FATAL:setTimeout(this.explosionParticlePlay.bind(this),1e3);break;case this.ground_tiles.TRAP:setTimeout(this.trapDrop.bind(this),1e3);break;case this.ground_tiles.STICKY:this.group.game.stick(1e3);break;case this.ground_tiles.LAVA:this.group.game.gameOver();break;case this.ground_tiles.POISON:this.group.checkPlayerStatus(this.row,this.col,"poison");break;case this.ground_tiles.SPIKE:this.group.checkPlayerStatus(this.row,this.col,"spike",this.spikeOut);break;case this.ground_tiles.JUMP:"left"==this.group.lastMove?this.group.jumpMarker(this.col-1,this.row+2,!0,!0):this.group.jumpMarker(this.col+1,this.row+2,!1,!0);break;case this.ground_tiles.MISSING:this.group.checkPlayerStatus(this.row,this.col,"missing")}switch(this.overlayType){case"star":this.group.game.gainScore(),this.overlay.getComponent(cc.Sprite).setVisible(!1);break;case"sticky":this.group.game.stick(3e3);break;case"potion":this.group.checkPlayerStatus(this.row,this.col,"antipoison"),this.overlay.getComponent(cc.Sprite).setVisible(!1);break;case"flip":this.group.game.flipDirection();break;case"trap":setTimeout(this.trapDrop.bind(this),1e3)}}}),cc._RFpop()},{}],Perlin:[function(e,t,a){"use strict";cc._RFpush(t,"35b438DkqhJ2pzEbHd4IdV7","Perlin"),function(e){function t(e,t,a){this.x=e,this.y=t,this.z=a}function a(e){return e*e*e*(e*(6*e-15)+10)}function i(e,t,a){return(1-a)*e+a*t}var r=e.noise={};t.prototype.dot2=function(e,t){return this.x*e+this.y*t},t.prototype.dot3=function(e,t,a){return this.x*e+this.y*t+this.z*a};var s=[new t(1,1,0),new t((-1),1,0),new t(1,(-1),0),new t((-1),(-1),0),new t(1,0,1),new t((-1),0,1),new t(1,0,(-1)),new t((-1),0,(-1)),new t(0,1,1),new t(0,(-1),1),new t(0,1,(-1)),new t(0,(-1),(-1))],o=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],n=new Array(512),c=new Array(512);r.seed=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var a;a=1&t?o[t]^255&e:o[t]^e>>8&255,n[t]=n[t+256]=a,c[t]=c[t+256]=s[a%12]}},r.seed(0);var l=.5*(Math.sqrt(3)-1),h=(3-Math.sqrt(3))/6,p=1/3,u=1/6;r.simplex2=function(e,t){var a,i,r,s,o,p=(e+t)*l,u=Math.floor(e+p),g=Math.floor(t+p),d=(u+g)*h,y=e-u+d,f=t-g+d;y>f?(s=1,o=0):(s=0,o=1);var m=y-s+h,v=f-o+h,b=y-1+2*h,C=f-1+2*h;u&=255,g&=255;var S=c[u+n[g]],k=c[u+s+n[g+o]],P=c[u+1+n[g+1]],x=.5-y*y-f*f;x<0?a=0:(x*=x,a=x*x*S.dot2(y,f));var w=.5-m*m-v*v;w<0?i=0:(w*=w,i=w*w*k.dot2(m,v));var R=.5-b*b-C*C;return R<0?r=0:(R*=R,r=R*R*P.dot2(b,C)),70*(a+i+r)},r.simplex3=function(e,t,a){var i,r,s,o,l,h,g,d,y,f,m=(e+t+a)*p,v=Math.floor(e+m),b=Math.floor(t+m),C=Math.floor(a+m),S=(v+b+C)*u,k=e-v+S,P=t-b+S,x=a-C+S;k>=P?P>=x?(l=1,h=0,g=0,d=1,y=1,f=0):k>=x?(l=1,h=0,g=0,d=1,y=0,f=1):(l=0,h=0,g=1,d=1,y=0,f=1):P<x?(l=0,h=0,g=1,d=0,y=1,f=1):k<x?(l=0,h=1,g=0,d=0,y=1,f=1):(l=0,h=1,g=0,d=1,y=1,f=0);var w=k-l+u,R=P-h+u,_=x-g+u,M=k-d+2*u,A=P-y+2*u,F=x-f+2*u,O=k-1+3*u,H=P-1+3*u,L=x-1+3*u;v&=255,b&=255,C&=255;var U=c[v+n[b+n[C]]],G=c[v+l+n[b+h+n[C+g]]],B=c[v+d+n[b+y+n[C+f]]],T=c[v+1+n[b+1+n[C+1]]],N=.6-k*k-P*P-x*x;N<0?i=0:(N*=N,i=N*N*U.dot3(k,P,x));var E=.6-w*w-R*R-_*_;E<0?r=0:(E*=E,r=E*E*G.dot3(w,R,_));var z=.6-M*M-A*A-F*F;z<0?s=0:(z*=z,s=z*z*B.dot3(M,A,F));var I=.6-O*O-H*H-L*L;return I<0?o=0:(I*=I,o=I*I*T.dot3(O,H,L)),32*(i+r+s+o)},r.perlin2=function(e,t){var r=Math.floor(e),s=Math.floor(t);e-=r,t-=s,r=255&r,s=255&s;var o=c[r+n[s]].dot2(e,t),l=c[r+n[s+1]].dot2(e,t-1),h=c[r+1+n[s]].dot2(e-1,t),p=c[r+1+n[s+1]].dot2(e-1,t-1),u=a(e);return i(i(o,h,u),i(l,p,u),a(t))},r.perlin3=function(e,t,r){var s=Math.floor(e),o=Math.floor(t),l=Math.floor(r);e-=s,t-=o,r-=l,s=255&s,o=255&o,l=255&l;var h=c[s+n[o+n[l]]].dot3(e,t,r),p=c[s+n[o+n[l+1]]].dot3(e,t,r-1),u=c[s+n[o+1+n[l]]].dot3(e,t-1,r),g=c[s+n[o+1+n[l+1]]].dot3(e,t-1,r-1),d=c[s+1+n[o+n[l]]].dot3(e-1,t,r),y=c[s+1+n[o+n[l+1]]].dot3(e-1,t,r-1),f=c[s+1+n[o+1+n[l]]].dot3(e-1,t-1,r),m=c[s+1+n[o+1+n[l+1]]].dot3(e-1,t-1,r-1),v=a(e),b=a(t),C=a(r);return i(i(i(h,d,v),i(p,y,v),C),i(i(u,f,v),i(g,m,v),C),b)}}(this),cc._RFpop()},{}],Player:[function(e,t,a){"use strict";cc._RFpush(t,"4d58cTnk9xOQZm9mlM0AnlC","Player"),cc.Class({"extends":cc.Component,properties:{player:{"default":null,type:cc.Sprite},jumpAudio:{"default":null,url:cc.AudioClip},atlas:{"default":null,type:cc.SpriteAtlas}},onLoad:function(){},dropToDeath:function(){this.group.player.runAction(cc.moveBy(.3,cc.p(0,-300)))},bounceWithCube:function(){this.group.player.runAction(cc.sequence(cc.moveBy(.1,cc.p(0,-3)),cc.moveBy(.1,cc.p(0,3))))},move:function(e,t,a,i){if(i)var r=30;else var r=10;this.group.player.getPosition().x>e&&(r*=-1);var s=cc.flipX(a),o=1;a||(o*=-1);var n=cc.sequence(cc.scaleTo(.15,.9*o,1.3),cc.scaleTo(.15,1*o,1)),c=[cc.p(this.group.player.getPosition().x-r,this.group.player.getPosition().y),cc.p(e,t),cc.p(e,t)];if(i)var l=cc.bezierTo(.3,c);else var l=cc.bezierTo(.15,c);var h=cc.spawn(s,n,l);i?this.group.player.runAction(cc.sequence(h,cc.callFunc(this.group.jumpFinished,this.group))):this.group.player.runAction(cc.sequence(h,cc.callFunc(this.group.moveFinished,this.group)))}}),cc._RFpop()},{}],Sound:[function(e,t,a){"use strict";cc._RFpush(t,"5e343IMLdJDLpisjjdX2Fnm","Sound"),cc.Class({"extends":cc.Component,properties:{clickSound:{"default":null,url:cc.AudioClip},returnSound:{"default":null,url:cc.AudioClip},startMusic:{"default":null,url:cc.AudioClip},gameMusic:{"default":null,url:cc.AudioClip},gainScore:{"default":null,url:cc.AudioClip},nextPrevPageSound:{"default":null,url:cc.AudioClip}},onLoad:function(){"notplaying"==cc.sys.localStorage.getItem("bg_music")&&this.playMusic()},playMusic:function(){cc.audioEngine.playMusic(this.startMusic,!0),cc.audioEngine.setMusicVolume(.3),cc.sys.localStorage.setItem("bg_music","playing")},toggleMusic:function(){"notplaying"==cc.sys.localStorage.getItem("bg_music")?(this.startScene.toggleSoundButton(!1),cc.audioEngine.pauseMusic()):"playing"==cc.sys.localStorage.getItem("bg_music")&&(this.startScene.toggleSoundButton(!0),cc.audioEngine.resumeMusic())},playSound_nextPrevPage:function(){cc.audioEngine.playEffect(this.nextPrevPageSound,!1)},playSound_return:function(){cc.audioEngine.playEffect(this.returnSound,!1)},playMusic_Start:function(){cc.audioEngine.playMusic(this.startMusic,!0)},playSound_Click:function(){cc.audioEngine.playEffect(this.clickSound,!1)},playSound_gainScore:function(){cc.audioEngine.playEffect(this.gainScore,!1)}}),cc._RFpop()},{}],Start:[function(e,t,a){"use strict";cc._RFpush(t,"b763feAFl9Dna9u7rImhueI","Start"),cc.Class({"extends":cc.Component,properties:{startPanel:{"default":null,type:cc.Node},highscoreLabel:{"default":null,type:cc.Label},sound:{"default":null,type:cc.Node},soundOnOff:{"default":null,type:cc.Node},atlas:{"default":null,type:cc.SpriteAtlas}},onLoad:function(){var e=cc.sys.localStorage,t="highscore",a=e.getItem(t);this.highscoreLabel.string="Highscore: "+a.toString(),this.sound.getComponent("Sound").startScene=this},toggleSoundButton:function(e){e?(this.soundOnOff.getComponent(cc.Button).normalSprite=this.atlas.getSpriteFrame("btn_sound_on"),this.soundOnOff.getComponent(cc.Button).pressedSprite=this.atlas.getSpriteFrame("btn_sound_on"),this.soundOnOff.getComponent(cc.Button).hoverSprite=this.atlas.getSpriteFrame("btn_sound_on")):(this.soundOnOff.getComponent(cc.Button).normalSprite=this.atlas.getSpriteFrame("btn_sound_off"),this.soundOnOff.getComponent(cc.Button).pressedSprite=this.atlas.getSpriteFrame("btn_sound_off"),this.soundOnOff.getComponent(cc.Button).hoverSprite=this.atlas.getSpriteFrame("btn_sound_off"))},showAbout:function(){cc.director.loadScene("_about")},showTutorial:function(){cc.director.loadScene("_tutorial")}}),cc._RFpop()},{}],Tutorial:[function(e,t,a){"use strict";cc._RFpush(t,"db387UBS/hHCpRIEVNAzlWX","Tutorial"),cc.Class({"extends":cc.Component,properties:{tutorialPanel:{"default":null,type:cc.Node},closeButton:{"default":null,type:cc.Node},tutorialContainer:{"default":null,type:cc.Node},pagesLabel:{"default":null,type:cc.Label},sound:{"default":null,type:cc.Node}},onLoad:function(){this.tutorialPages=this.tutorialContainer.getChildren().length,this.tutorialCurrentPage=1,this.pagesLabel.string=this.tutorialCurrentPage+"/"+this.tutorialPages,this.tutorialContainerPanel=this.tutorialContainer.getChildren();for(var e=0;e<this.tutorialPages;e++)this.tutorialContainerPanel[e].active=!1;this.tutorialContainerPanel[0].active=!0},nextTutorialPage:function(){for(var e=0;e<this.tutorialPages;e++)this.tutorialContainerPanel[e].active=!1;this.tutorialCurrentPage<this.tutorialPages?(this.tutorialCurrentPage+=1,this.tutorialContainerPanel[this.tutorialCurrentPage-1].active=!0):this.tutorialCurrentPage==this.tutorialPages&&(this.tutorialCurrentPage=1,this.tutorialContainerPanel[0].active=!0),this.pagesLabel.string=this.tutorialCurrentPage+"/"+this.tutorialPages},prevTutorialPage:function(){for(var e=0;e<this.tutorialPages;e++)this.tutorialContainerPanel[e].active=!1;this.tutorialCurrentPage>1?(this.tutorialCurrentPage-=1,this.tutorialContainerPanel[this.tutorialCurrentPage-1].active=!0):1==this.tutorialCurrentPage&&(this.tutorialCurrentPage=this.tutorialPages,this.tutorialContainerPanel[this.tutorialPages-1].active=!0),this.pagesLabel.string=this.tutorialCurrentPage+"/"+this.tutorialPages}}),cc._RFpop()},{}]},{},["Perlin","Player","AnimationControl","Sound","ButtonControl","GameOver","Start","Hexagon","HexagonGroup","Coin","Tutorial","Game","Choose","About"]);